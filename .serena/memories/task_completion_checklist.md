# タスク完了時のチェックリスト

## コード品質チェック

### JavaScript
- [ ] **ESLint検証**: `eslint js/**/*.js --config eslint.config.js`
- [ ] **JSHint検証**: `jshint js/**/*.js --config .jshintrc`
- [ ] **ブラウザコンソールエラー確認**: 開発者ツールでエラーがないことを確認
- [ ] **グローバル変数汚染チェック**: 意図しないグローバル変数作成の確認

### PHP
- [ ] **シンタックスチェック**: `php -l filename.php`
- [ ] **WordPress規約準拠**: WordPressコーディング規約に準拠
- [ ] **セキュリティチェック**: nonce検証、エスケープ処理の確認
- [ ] **エラーログ確認**: WordPressデバッグログのエラーチェック

### SCSS/CSS
- [ ] **Sassコンパイル**: エラーなくコンパイルできることを確認
- [ ] **BEM記法準拠**: Block__Element--Modifier記法の確認
- [ ] **レスポンシブ対応**: モバイル・タブレット表示の確認

## 機能テスト

### 基本機能
- [ ] **メッセージ送信**: 正常に送信・表示されるか
- [ ] **リアルタイム受信**: Long Pollingでの受信確認
- [ ] **スクロール動作**: 自分のメッセージで自動スクロール
- [ ] **スレッド機能**: スレッド作成・返信の動作確認
- [ ] **リアクション機能**: 絵文字リアクションの追加・削除

### Long Polling移行関連
- [ ] **統合ロングポーリング**: 30秒接続の確認
- [ ] **フォールバック機能**: エラー時の段階的フォールバック
- [ ] **接続プール管理**: 最大3接続の制限確認
- [ ] **管理画面**: 移行管理ページの動作確認

## パフォーマンステスト
- [ ] **レスポンス時間**: 平均2秒以下を確認
- [ ] **エラー率**: 5%以下を確認
- [ ] **メモリ使用量**: 適切な範囲内かを確認
- [ ] **データベース負荷**: クエリ数・実行時間の確認

## ブラウザ互換性
- [ ] **Chrome**: 最新版での動作確認
- [ ] **Safari**: 最新版での動作確認  
- [ ] **Firefox**: 最新版での動作確認
- [ ] **モバイル**: スマートフォン・タブレットでの確認

## セキュリティチェック
- [ ] **XSS対策**: ユーザー入力のエスケープ確認
- [ ] **CSRF対策**: nonce検証の実装確認
- [ ] **SQLインジェクション**: プリペアドステートメント使用確認
- [ ] **認証・認可**: 権限チェックの実装確認

## デプロイ前確認
- [ ] **デバッグコード削除**: console.log、デバッグ関数の削除
- [ ] **本番環境設定**: WP_DEBUG = false等の設定確認
- [ ] **ファイルアップロード**: 必要なファイルの確実なアップロード
- [ ] **データベースマイグレーション**: 必要に応じてDB更新実行

## ドキュメント更新
- [ ] **CLAUDE.md更新**: 機能変更の反映
- [ ] **コメント追加**: 複雑な処理への適切なコメント
- [ ] **変更履歴**: 重要な変更の記録
- [ ] **テストガイド更新**: 必要に応じてテスト手順の更新

## 最終確認
- [ ] **全機能統合テスト**: システム全体の動作確認
- [ ] **ログ監視**: エラーログ・アクセスログの確認
- [ ] **バックアップ確認**: 必要に応じてバックアップ取得
- [ ] **ロールバック準備**: 問題発生時の復旧手順確認